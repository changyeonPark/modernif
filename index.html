<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Modernif</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"
            integrity="sha512-uKQ39gEGiyUJl4AI6L+ekBdGKpGw4xJ55+xyJG7YFlJokPNYegn9KwQ3P8A7aFQAUtUsAQHep+d/lrGqrbPIDQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<link rel="stylesheet" href="resources/css/MainCss.css">

<body>

<div class="container">

    <div class="modal">
    </div>

    <nav class="navigator">
        <div class="nav-header" id="logo"><a href="index.html">MODERNIF</a></div>

        <div class="nav-body">
            <div class="nav-menu">
                <a href="OuterView.html" id="outer">OUTER</a>
                <a href="TopView.html" id="top">TOP</a>
                <a href="KnitView.html" id="knit">KNIT</a>
                <a href="ShirtsView.html" id="shirts">SHIRTS</a>
                <a href="BottomView.html" id="bottom">BOTTOM</a>
                <a href="ShoesView.html" id="shoes">SHOES</a>
                <a href="AccView.html" id="acc">ACC</a>
                <a href="Community.html" id="community">COMMUNITY</a>
            </div>
        </div>

        <div class="nav-footer">
            <div id="loginBtn">LOGIN</div>
            <div id="signUpBtn">SIGN UP</div>
            <div id="myPage">

            </div>
        </div>
    </nav>

    <section class="section">

        <div class="section-title">
            <h2>MODERNIF</h2>
        </div>

        <div class="productList">
        </div>

    </section>

    <footer class="footer">
    </footer>

</div>

<script>

    // 로컬스토리지에 있는 product를 가져와서 이제 데이터를 뿌려주자.

    const cardParent = document.querySelector(".productList")

    const product = JSON.parse(localStorage.getItem("product"))

    for (let i = 0; i < product.length; i++) {
        const prodNo = product[i].prodNo
        const prodName = product[i].prodName
        const prodPrice = product[i].prodPrice
        const prodCategory = product[i].prodCategory
        const mainImgUrl = product[i].mainImgUrl
        const prodSize = product[i].prodSize /* 2중 배열임 */
        const detailImgUrl = product[i].detailImgUrl /* 배열임 */
        const prodDelYn = product[i].prodDelYn

        if (prodDelYn === "N"){
            const cardDiv = document.createElement("div")
            cardDiv.className = "card"

            const cardImgDiv = document.createElement("div")
            cardImgDiv.className = "card-img"

            const cardImgParentA = document.createElement("a")
            cardImgParentA.setAttribute("href", "ProductDetailView.html")

            const mainImg = document.createElement("img")
            mainImg.setAttribute("src", mainImgUrl)

            cardImgParentA.appendChild(mainImg)
            cardImgDiv.appendChild(cardImgParentA)



            const cardContent = document.createElement("div")
            cardContent.className = "card-content"

            const cardContentUl = document.createElement("ul")

            const prodNameUlLi = document.createElement("li")
            prodNameUlLi.className = "prod_name"

            const prodNameA = document.createElement("a")
            prodNameA.setAttribute("href", "ProductDetailView.html")

            const prodNameSpan = document.createElement("span")
            prodNameSpan.textContent = prodName

            prodNameA.appendChild(prodNameSpan)
            prodNameUlLi.appendChild(prodNameA)

            const prodPriceUlLi = document.createElement("li")
            prodPriceUlLi.className = "prod_price"

            prodPriceUlLi.textContent = "KRW " + prodPrice

            cardContentUl.append(prodNameUlLi, prodPriceUlLi)
            cardContent.append(cardContentUl)

            cardDiv.append(cardImgDiv, cardContent)

            cardParent.append(cardDiv)

            prodNameA.addEventListener("click", () => {

                sessionStorage.setItem("prodName", prodName)
            })

            cardImgParentA.addEventListener("click", () => {

                sessionStorage.setItem("prodName", prodName)
            })
        }
    }

</script>

<script src="resources/script/Navigator.js"></script>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

<script src="resources/script/SearchRoad.js"></script>

</body>
</html>